"use strict";(self.webpackChunkproject_mern=self.webpackChunkproject_mern||[]).push([[730],{5629:function(e,t,n){var r=n(7470),a=n(9048),s=n(5159),c=n(1079),i=n(184);t.Z=(0,r.withErrorBoundary)((function(e){var t=e.radius,n=e.background,r=e.children,c=e.className,o=e.disable,l=e.onClick,u=e.icon,d=a.E0.find((function(e){return e.radius===t})),h=a.QN.find((function(e){return e.backgroundColor===n}));return(0,i.jsxs)("button",{onClick:l,type:"submit",className:(0,s.Z)("outline-none",t&&d.radiusCss,c,n&&h.backgroundCss,o&&"pointer-events-none select-none bg-opacity-50",u&&"flex items-center"),children:[u&&(0,i.jsx)("span",{children:u}),r]})}),{FallbackComponent:c.SV})},4249:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(885),a=n(2791),s=n(1134);var c=n(9048),i=n(5159),o=n(184),l=function(e){var t=e.bg,n=e.control,l=e.setValue,u=e.name,d=e.disable,h=e.dropdownLabel,m=void 0===h?"Select your gender":h,p=e.list,x=void 0===p?[]:p,f=e.icon,b=e.radius,g=c.E0.find((function(e){return e.radius===b})),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",t=(0,a.useState)(!1),n=(0,r.Z)(t,2),s=n[0],c=n[1],i=(0,a.useRef)(null);return(0,a.useEffect)((function(){function t(t){!i.current||i.current.contains(t.target)||t.target.matches(e)||c(!1)}return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}}),[]),{show:s,setShow:c,nodeRef:i}}(),j=v.show,y=v.setShow,N=v.nodeRef,Z=((0,s.qo)({control:n,name:u,defaultValue:""}),function(e){l(u,e.target.dataset.value),y(!1),E(e.target.textContent)}),w=(0,a.useState)(m),k=(0,r.Z)(w,2),S=k[0],E=k[1];return(0,o.jsxs)("div",{className:(0,i.Z)("relative",d&&"pointer-events-none select-none bg-gray-100"),ref:N,children:[(0,o.jsxs)("div",{className:(0,i.Z)("border-gray100 flex h-full cursor-pointer items-center  gap-4 border p-3 text-c4",t||"bg-transparent",b?g.radiusCss:"rounded-lg"),onClick:function(){return y(!j)},children:[f&&(0,o.jsx)("span",{children:f}),(0,o.jsx)("span",{className:"text-c3",children:S})]}),(0,o.jsx)("div",{className:(0,i.Z)("absolute top-full left-0 z-20 w-full rounded-lg bg-white shadow-md",j?"":"invisible opacity-0"),children:x.map((function(e,t){return(0,o.jsx)("div",{className:"cursor-pointer p-5 text-c3 hover:bg-gray-100",onClick:Z,"data-value":e.type,children:e.type},t)}))})]})}},3453:function(e,t,n){n(2791);var r=n(5159),a=n(7470),s=n(111),c=n(184);t.Z=(0,a.withErrorBoundary)((function(e){var t=e.htmlFor,n=e.className,a=void 0===n?"":n,s=e.children;return(0,c.jsx)("div",{className:"inline-block",children:(0,c.jsx)("label",{htmlFor:t,className:(0,r.Z)("inline-block cursor-pointer text-sm font-medium text-c3 dark:text-c4",a),children:s})})}),{FallbackComponent:s.Z})},8730:function(e,t,n){n.r(t),n.d(t,{default:function(){return X}});var r=n(4165),a=n(1413),s=n(5987),c=n(5861),i=n(885),o=n(2791),l=n(1134),u=n(9434),d=n(3504),h=n(6871),m=function(e){return e.join("/").replace(/\/\/+/g,"/")},p=/^:\w+$/,x=function(e){return"*"===e};function f(e,t){var n=e.split("/"),r=n.length;return n.some(x)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!x(e)})).reduce((function(e,t){return p.test(t)?e+3:""===t?e+1:e+10}),r)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e.forEach((function(e,a){var s;if("string"!==typeof e.path&&!e.index&&!(null===(s=e.children)||void 0===s?void 0:s.length))throw new Error("useBreadcrumbs: `path` or `index` must be provided in every route object");if(e.path&&e.index)throw new Error("useBreadcrumbs: `path` and `index` cannot be provided at the same time");var c={relativePath:e.path||"",childrenIndex:a,route:e};if("/"===c.relativePath.charAt(0)){if(!c.relativePath.startsWith(r))throw new Error("useBreadcrumbs: The absolute path of the child route must start with the parent path");c.relativePath=c.relativePath.slice(r.length)}var i=m([r,c.relativePath]),o=n.concat(c);if(e.children&&e.children.length>0){if(e.index)throw new Error("useBreadcrumbs: Index route cannot have child routes");b(e.children,t,o,i)}t.push({path:i,score:f(i,e.index),routesMeta:o})})),t}var g=Symbol("NO_BREADCRUMB"),v=function(e){return e.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[-_\s]+/g," ").replace(/^[a-z]/,(function(e){return e.toUpperCase()}))},j=function(e){var t=e.breadcrumb,n=e.match,r=e.location,a=e.props,s=Object.assign({match:n,location:r,key:n.pathname},a||{});return Object.assign(Object.assign({},s),{breadcrumb:"string"===typeof t?(0,o.createElement)("span",{key:s.key},t):o.createElement(t,Object.assign({},s))})},y=function(e){var t,n=e.currentSection,r=e.disableDefaults,a=e.excludePaths,s=e.defaultFormatter,c=e.location,i=e.pathSection,o=e.branches;return a&&a.some((function(e){return null!=(0,h.LX)({path:e,end:!0},i)}))?g:(o.some((function(e){var a=e.path,o=e.routesMeta,l=o[o.length-1].route,u=l.breadcrumb;if(!u&&l.index){var d=o[o.length-2];d&&d.route.breadcrumb&&(u=d.route.breadcrumb)}var m=l.caseSensitive,p=l.props,x=(0,h.LX)({path:a,end:!0,caseSensitive:m},i);return x&&null===u?(t=g,!0):!!x&&(!u&&r?(t=g,!0):(t=j({breadcrumb:u||(s?s(n):v(n)),match:Object.assign(Object.assign({},x),{route:l}),location:c,props:p}),!0))})),t||(r?g:function(e){var t=e.currentSection,n=e.location,r=e.pathSection,a=e.defaultFormatter,s=(0,h.LX)({end:!0,path:r},r);return j({breadcrumb:a?a(t):v(t),match:s,location:n})}({pathSection:i,currentSection:"/"===i?"Home":n,location:c,defaultFormatter:s})))},N=function(e){var t=e.routes,n=e.location,r=e.options,a=void 0===r?{}:r,s=n.pathname,c=function(e){return e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(b(t)),i=[];return s.split("?")[0].split("/").reduce((function(e,t,r){var s=t?"".concat(e,"/").concat(t):"/";if("/"===s&&0!==r)return"";var o=y(Object.assign({currentSection:t,location:n,pathSection:s,branches:c},a));return o!==g&&i.push(o),"/"===s?"":s}),""),i};h.AW;var Z=n(3314),w=n(184),k=[{path:"/profile",breadcrumb:function(e){var t=e.someProp;return(0,w.jsxs)("div",{className:"flex items-center gap-3",children:[(0,w.jsx)(Z.Ec,{}),(0,w.jsx)("span",{children:t})]})},props:{someProp:"Profile"}}],S=function(){var e=function(e,t){return N({routes:e||[],location:(0,h.TH)(),options:t})}(k);return(0,w.jsx)(w.Fragment,{children:e.map((function(e){var t=e.match,n=e.breadcrumb;return(0,w.jsx)(d.OL,{to:t.pathname,children:n},t.pathname)}))})},E=n(7470),C=n(1079),D=n(9048),I=n(5159),F=["children","radius","className","hasIconPen","hasIconTrash","hasDisable","colorIcon"],P=(0,E.withErrorBoundary)((function(e){var t=e.children,n=e.radius,r=e.className,c=e.hasIconPen,i=e.hasIconTrash,o=e.hasDisable,l=e.colorIcon,u=(0,s.Z)(e,F),d=D.E0.find((function(e){return e.radius===n}));return(0,w.jsx)("button",(0,a.Z)((0,a.Z)({className:(0,I.Z)("rounded-full border border-c6 px-4 py-2 outline-none transition-all hover:bg-c6",r,n&&d.radiusCss,o&&"pointer-events-none select-none bg-gray-200 text-c4")},u),{},{children:(0,w.jsxs)(C.Zv,{items:"center",spacing:"4",children:[c&&(0,w.jsx)("span",{className:(0,I.Z)(l),children:(0,w.jsx)(Z.Oe,{})}),i&&(0,w.jsx)("span",{className:(0,I.Z)(l),children:(0,w.jsx)(Z.IT,{})}),(0,w.jsxs)("p",{children:[" ",t," "]})]})}))}),{FallbackComponent:C.SV}),B=n(5629),A=function(e){var t=e.control,n=e.name,r=e.placeholder,s=e.id,c=e.hasIcon,i=e.icon,o=e.tabIndex,u=e.hasDisable,d=e.type,h=(0,l.bc)({control:t,name:n,defaultValue:""}).field;return(0,w.jsxs)(C.Zv,{className:(0,I.Z)("rounded-lg border border-[#DEDFE1] px-5 py-3 transition-all focus-within:border-c5",u&&"pointer-events-none select-none bg-gray-100"),items:"center",spacing:"4",children:[c&&(0,w.jsx)("span",{className:"text-c4",children:i}),(0,w.jsx)("input",(0,a.Z)((0,a.Z)({type:d||"text",className:"w-full bg-transparent text-c3 outline-none placeholder:text-c4"},h),{},{placeholder:r,name:n,id:s,tabIndex:o}))]})},M=n(3453),O=["children","icon","hasDisable"],L=(0,E.withErrorBoundary)((function(e){var t=e.children,n=e.icon,r=e.hasDisable,c=(0,s.Z)(e,O);return(0,w.jsxs)(C.Zv,{col:!0,spacing:"3",children:[(0,w.jsx)(M.Z,{htmlFor:c.id,className:(0,I.Z)("font-DMSans !font-bold leading-none !text-c4",r&&"pointer-events-none select-none bg-gray-100"),children:t}),(0,w.jsx)(A,(0,a.Z)({hasIcon:!0,icon:n,hasDisable:r},c))]})}),{FallbackComponent:C.SV}),R=n(9914),T=n(9085),V=n(8062),U=n(6737),_=function(){var e=(0,u.v9)((function(e){return e.auth})).user,t=(0,l.cI)({mode:"onChange"}),n=t.handleSubmit,s=t.setValue,d=t.register,h=t.formState.isSubmitting,m=(0,o.useState)(!0),p=(0,i.Z)(m,2),x=p[0],f=p[1],b=(0,o.useState)(e.avatar),g=(0,i.Z)(b,2),v=g[0],j=g[1],y=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.next=3,N(n);case 3:a=e.sent,j(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){t(r.result)},r.onerror=function(e){n(e)}}))},k=(0,U.LP)().access_token,S=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(n){var a,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.avatar,t.next=3,V.Z.put("/user/avt/".concat(e.email),a,{headers:{"Content-Type":"text/html; charset=utf-8",Authorization:"Bearer ".concat(k)}});case 3:if(s=t.sent,f(!0),s.data){t.next=7;break}return t.abrupt("return",null);case 7:if(202===s.status){t.next=12;break}return T.Am.success(s.data.message,{autoClose:500}),t.abrupt("return",new Promise((function(e){setTimeout((0,c.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(),window.location.reload(!0);case 2:case"end":return t.stop()}}),t)}))),1e3)})));case 12:T.Am.error(s.data.message,{autoClose:500});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,w.jsx)("div",{className:"dark:bg-grayScale-c2 mx-auto mt-5 h-full max-h-[560px] w-full max-w-[350px] rounded-xl bg-white px-7 py-8 lg:mx-0",children:(0,w.jsx)("div",{className:"text-center font-DMSans",children:(0,w.jsxs)("form",{onSubmit:n(S),children:[(0,w.jsxs)("div",{className:"relative inline-block rounded-full",children:[(0,w.jsx)("img",{src:v||"/none-avt.png",alt:"avt",className:"object-cove mb-4 h-[170px] w-[170px] select-none rounded-full"}),(0,w.jsxs)("button",{type:"button",className:"absolute bottom-0 right-0 flex -translate-y-1/3 -translate-x-1/3 cursor-pointer items-center justify-center rounded-full border-2 border-c6 bg-c7 p-3 text-c4 outline-none dark:border-c3 dark:bg-c2 dark:text-c5",onClick:function(){document.getElementById("inp-upload").click()},children:[(0,w.jsx)("span",{children:(0,w.jsx)(Z.U3,{})}),(0,w.jsx)("input",(0,a.Z)({type:"text",className:"hidden"},d("avatar"))),(0,w.jsx)("input",{id:"inp-upload",type:"file",className:"hidden",onChange:function(e){y(e),f(!1)}})]})]}),(0,w.jsx)("p",{className:"dark:text-grayScale-c6 mb-5 font-Roboto text-4xl",children:(0,w.jsx)("b",{className:"",children:e.fullName})}),(0,w.jsx)("div",{className:"dark:bg-grayScale-c3 dark:text-grayScale-c5 mb-6 inline-block rounded-full bg-[#F4F5F6] py-2 px-7",children:(0,w.jsxs)(C.Zv,{items:"center",spacing:"2",children:[(0,w.jsx)("span",{className:"text-c4",children:(0,w.jsx)(Z.NO,{})}),(0,w.jsx)("p",{className:"text-sm font-normal text-c4",children:"Identity verified"})]})}),(0,w.jsx)("div",{className:"dark:bg-grayScale-c3 mb-7 h-[2px] w-full bg-[#F5F6F7]"}),(0,w.jsxs)(C.Zv,{className:"mb-4 font-Roboto text-sm font-medium",justify:"between",children:[(0,w.jsx)("span",{className:"text-grayScale-c3 dark:text-grayScale-c7",children:"Form"}),(0,w.jsx)("span",{className:" text-grayScale-c4",children:"United State"})]}),(0,w.jsxs)(C.Zv,{className:"mb-10 font-Roboto text-sm font-medium",justify:"between",children:[(0,w.jsx)("span",{className:"text-grayScale-c3 dark:text-grayScale-c7",children:"Member Since"}),(0,w.jsx)("span",{className:" text-grayScale-c4",children:"05.06.1996"})]}),(0,w.jsx)(B.Z,{disable:x,background:"purple",className:"flex w-full cursor-pointer items-center justify-center gap-3 rounded-full py-2 text-center font-Roboto font-semibold text-white",onClick:function(){s("avatar",v)},children:h?(0,w.jsx)("div",{className:"h-6 w-6 animate-spin rounded-full border-[3px]  border-t-2 border-white border-t-transparent bg-transparent"}):(0,w.jsx)("span",{children:"Upload Avatar"})})]})})})},H=n(1124),z=n(4249),K=["street","district","city"],X=function(){var e=(0,u.v9)((function(e){return e.auth})).user,t=(0,l.cI)({mode:"onChange"}),n=t.handleSubmit,d=t.control,h=t.setValue,m=(t.watch,t.setFocus),p=(0,o.useState)(!0),x=(0,i.Z)(p,2),f=x[0],b=x[1],g=(0,H.Z)();(0,o.useEffect)((function(){document.title="Profile",e.address&&(h("street",e.address.street),h("district",e.address.district),h("city",e.address.city)),h("birthDay",null!==e&&void 0!==e&&e.birthDay?e.birthDay:""),h("fullName",e.fullName),h("email",e.email),h("gender",null!==e&&void 0!==e&&e.gender?e.gender:"")}),[]);var v=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(n){var i,o,l,u,d,h,m;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.street,o=n.district,l=n.city,u=(0,s.Z)(n,K),d=(0,a.Z)({address:{street:i,district:o,city:l}},u),console.log("address",d),t.next=5,g.put("/user/".concat(e.email),d);case 5:return h=t.sent,t.next=8,g.get("user/".concat(e.email));case 8:if(m=t.sent,console.log(m),h.data){t.next=12;break}return t.abrupt("return",null);case 12:if(202===h.status){t.next=17;break}return T.Am.success(h.data.message,{autoClose:500}),t.abrupt("return",new Promise((function(e){setTimeout((0,c.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(),window.location.reload(!0);case 2:case"end":return t.stop()}}),t)}))),1e3)})));case 17:T.Am.error(h.data.message,{autoClose:500});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,w.jsxs)("div",{children:[(0,w.jsx)(C.Zv,{className:"my-10",items:"center",spacing:"3",children:(0,w.jsx)(S,{})}),(0,w.jsxs)(C.Zv,{className:"gap-[30px] lg:flex-row lg:gap-[33px]",col:!0,children:[(0,w.jsx)(_,{}),(0,w.jsxs)("div",{className:"flex-1 px-5 lg:px-0",children:[(0,w.jsx)(R.Z,{className:"border-b-grayScale-c6 dark:border-b-grayScale-c6 mt-5 hidden border-b pb-8 lg:block",sx:"xl-3",children:"My Profile"}),(0,w.jsxs)("div",{className:"mt-20 font-DMSans",children:[(0,w.jsxs)(C.Zv,{className:"mb-12",justify:"between",children:[(0,w.jsxs)("p",{className:"text-grayScale-c2 text-xl font-medium dark:text-white lg:text-2xl",children:["Hi, I'm ",e.fullName]}),(0,w.jsx)(P,{hasIconPen:!0,onClick:function(){b(!1),m("street")},children:"Edit your profile"})]}),(0,w.jsxs)("form",{onSubmit:n(v),className:"mt-10",children:[(0,w.jsxs)(C.It,{rows:"3",spacing:"8",children:[(0,w.jsxs)(C.It,{cols:"3",spacing:"8",children:[(0,w.jsx)(L,{name:"street",id:"street",placeholder:"Enter your street",control:d,icon:(0,w.jsx)(Z.KZ,{}),hasDisable:f,children:"Street"}),(0,w.jsx)(L,{name:"district",id:"district",placeholder:"Enter your district",control:d,icon:(0,w.jsx)(Z.KZ,{}),hasDisable:f,children:"District"}),(0,w.jsx)(L,{name:"city",id:"city",placeholder:"Enter your city",control:d,icon:(0,w.jsx)(Z.KZ,{}),hasDisable:f,children:"City"})]}),(0,w.jsxs)(C.It,{cols:"2",spacing:"8",children:[(0,w.jsx)(L,{name:"fullName",id:"fullName",placeholder:"Enter your full name",control:d,icon:(0,w.jsx)(Z.uH,{}),hasDisable:f,children:"Full Name"}),(0,w.jsx)(L,{name:"email",id:"email",placeholder:"Enter your email",control:d,icon:(0,w.jsx)(Z.Bd,{}),tabIndex:-1,hasDisable:!0,children:"Email"})]}),(0,w.jsxs)(C.It,{cols:"2",spacing:"9",children:[(0,w.jsx)(L,{type:"text",name:"birthDay",id:"birthDay",placeholder:"dd/mm/yyyy",control:d,icon:(0,w.jsx)(Z.ph,{}),hasDisable:f,children:"Date Of Birth"}),(0,w.jsxs)(C.Zv,{col:!0,spacing:"4",children:[(0,w.jsx)("label",{htmlFor:"genderType",className:"font-DMSans text-sm font-bold text-c4",children:"Gender"}),(0,w.jsx)(z.Z,{setValue:h,control:d,id:"gender",name:"gender",disable:f,list:[{type:"MALE"},{type:"FEMALE"},{type:"ANOTHER"}],icon:(0,w.jsx)(Z.bz,{}),dropdownLabel:e.gender})]})]})]}),(0,w.jsx)("div",{className:"mt-8 inline-block w-full text-right",children:(0,w.jsx)("div",{className:"inline-block",children:(0,w.jsxs)(C.Zv,{items:"center",children:[(0,w.jsx)(P,{hasIconTrash:!0,radius:"8",onClick:function(){b(!0)},className:"mr-4 !py-2 !px-4",colorIcon:"text-c4",hasDisable:f,children:"Cancel"}),(0,w.jsx)(B.Z,{disable:f,onClick:function(){return b(!0)},type:"submit",radius:"8",className:"bg-blue-500 py-2 px-4 font-semibold text-white",children:"Update Profile"})]})})})]})]})]})]})]})}}}]);
//# sourceMappingURL=730.4833cb0f.chunk.js.map