(self.webpackChunkproject_mern=self.webpackChunkproject_mern||[]).push([[42],{5629:function(e,t,r){"use strict";var n=r(7470),s=r(9048),a=r(5159),o=r(1079),c=r(184);t.Z=(0,n.withErrorBoundary)((function(e){var t=e.radius,r=e.background,n=e.children,o=e.className,i=e.disable,u=e.onClick,l=e.icon,d=s.E0.find((function(e){return e.radius===t})),f=s.QN.find((function(e){return e.backgroundColor===r}));return(0,c.jsxs)("button",{onClick:u,type:"submit",className:(0,a.Z)("outline-none",t&&d.radiusCss,o,r&&f.backgroundCss,i&&"pointer-events-none select-none bg-opacity-50",l&&"flex items-center"),children:[l&&(0,c.jsx)("span",{children:l}),n]})}),{FallbackComponent:o.SV})},6460:function(e,t,r){"use strict";r(2791);var n=r(184);t.Z=function(e){var t=e.children;return(0,n.jsx)("div",{className:"px-5 py-[30px] dark:bg-c2 lg:mx-auto lg:max-w-7xl lg:px-10 lg:py-5",children:t})}},1124:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(4165),s=r(5861),a=r(2791),o=r(9434),c=r(8062),i=r(1413),u=r(9776),l=r(6737);function d(){function e(){return(e=(0,s.Z)((0,n.Z)().mark((function e(){var t,r,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,l.LP)(),r=t.refresh_token){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,c.Z.post("token/".concat(r),{"Content-Type":"Application/json",refreshToken:r});case 5:if((s=e.sent).data){e.next=8;break}return e.abrupt("return",null);case 8:return(0,l.Fr)(s.data.accessToken,s.data.refreshToken),(0,u.Ct)((function(e){return(0,i.Z)((0,i.Z)({},e),{},{accessToken:s.data.accessToken})})),e.abrupt("return",s.data.accessToken||"");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){return e.apply(this,arguments)}}function f(){var e=d(),t=(0,o.v9)((function(e){return e})).auth;return(0,a.useEffect)((function(){var r=c.j.interceptors.request.use(function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.headers.Authorization||(r.headers.Authorization="Bearer ".concat(t.accessToken)),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),a=c.j.interceptors.response.use((function(e){return e}),function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r){var s,a,o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null===r||void 0===r?void 0:r.config,403!==(null===r||void 0===r||null===(s=r.response)||void 0===s?void 0:s.status)||null!==a&&void 0!==a&&a.sent){t.next=8;break}return a.sent=!0,t.next=5,e();case 5:return o=t.sent,a.headers.Authorization="Bearer ".concat(o),t.abrupt("return",(0,c.j)(a));case 8:return t.abrupt("return",Promise.reject(r));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){c.j.interceptors.request.eject(r),c.j.interceptors.response.eject(a)}}),[t.accessToken,e]),c.j}},8402:function(e,t,r){"use strict";r.d(t,{G:function(){return i}});var n=r(4165),s=r(5861),a=r(885),o=r(2791),c=r(8062);function i(e){var t=(0,o.useState)([]),r=(0,a.Z)(t,2),i=r[0],u=r[1],l=(0,o.useState)(!0),d=(0,a.Z)(l,2),f=d[0],p=d[1];return(0,o.useEffect)((function(){var t=setTimeout((0,s.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("tour/".concat(e)).then((function(e){u(e.data.tourDetail)}));case 2:p(!1);case 3:case"end":return t.stop()}}),t)}))),500);return function(){return clearTimeout(t)}}),[]),{tourDetail:i,loading:f}}},1042:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var n=r(885),s=r(2791),a=r(9434),o=r(3504),c=r(6871),i=r(5629),u=r(1079),l=r(6460),d=r(9914),f=(r(1124),r(8402)),p=r(2982),m=r(5159),h=r(184),x=function(e){var t=e.children,r=e.className;return(0,h.jsx)("div",{className:(0,m.Z)("h-full w-full bg-white px-4",r),children:t})},v=function(e){var t=e.tourDetailDes;return(0,s.useEffect)((function(){var e=document.getElementById("tourContent"),t=(0,p.Z)(e.getElementsByTagName("h3")),r=(0,p.Z)(e.getElementsByTagName("p"));(0,p.Z)(e.getElementsByTagName("div")).map((function(e){return e.classList.add("px-4")})),r.map((function(e){return e.classList.add("text-justify","mb-3","".concat("*"===e.innerText.charAt(0)&&"text-red-500"))})),t.map((function(e){return e.classList.add("font-semibold","text-dark-blue","text-2xl","py-3","mb-3","mt-4")}))}),[]),(0,h.jsx)(x,{className:"mt-5 px-8 pt-1 pb-4 shadow-[0_0_20px_5px_rgb(0,0,0,0.05)]",children:(0,h.jsx)("div",{id:"tourContent",dangerouslySetInnerHTML:{__html:t}})})},j=(0,s.memo)(v),b=function(e){var t=e.tourDetail;return(0,h.jsxs)("div",{className:"mt-7",children:[(0,h.jsxs)(u.It,{cols:"12",spacing:"3",children:[(0,h.jsx)("div",{className:"col-span-7",children:(null===t||void 0===t?void 0:t.images)&&(0,h.jsx)("img",{src:t.images[0],alt:"",className:"h-full w-full rounded-md object-cover transition-all"})}),(0,h.jsx)("div",{className:"col-span-5",children:(0,h.jsxs)(u.It,{rows:"5",spacing:"3",children:[(0,h.jsx)(u.It,{cols:"2",className:"row-span-2",spacing:"3",children:(null===t||void 0===t?void 0:t.images)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("img",{src:t.images[1],alt:"",className:"h-full w-full rounded-md object-cover transition-all"}),(0,h.jsx)("img",{src:t.images[2],alt:"",className:"h-full w-full rounded-md object-cover transition-all"})]})}),(0,h.jsx)("div",{className:"col-span-1 row-span-3",children:(null===t||void 0===t?void 0:t.images)&&(0,h.jsx)("img",{src:t.images[3],alt:"",className:"h-full w-full rounded-md object-cover transition-all"})})]})})]}),(0,h.jsx)("p",{className:"mt-4 text-justify text-c3",children:t.tourDes})]})},g=function(){return(0,h.jsxs)("div",{className:"mt-7",children:[(0,h.jsxs)(u.It,{cols:"12",spacing:"3",children:[(0,h.jsx)("div",{className:"col-span-7",children:(0,h.jsx)("div",{className:"skeleton h-[470px] w-full rounded-md"})}),(0,h.jsx)("div",{className:"col-span-5",children:(0,h.jsxs)(u.It,{rows:"5",spacing:"3",children:[(0,h.jsx)(u.It,{cols:"2",className:"row-span-2",spacing:"3",children:Array(2).fill(0).map((function(e,t){return(0,h.jsx)("div",{className:"skeleton h-[180px] w-full rounded-md"},t)}))}),(0,h.jsx)("div",{className:"col-span-1 row-span-3",children:(0,h.jsx)("div",{className:"skeleton h-[277px] w-full rounded-md"})})]})})]}),(0,h.jsx)("div",{className:"skeleton mt-4 h-5 w-full"})]})},y=function(e){e.price,(0,a.v9)((function(e){return e.auth})).user;var t,r=(0,s.useState)(!0),p=(0,n.Z)(r,2),m=p[0],x=p[1],v=(0,o.lr)(),y=(0,n.Z)(v,2),k=y[0],N=(y[1],(0,c.s0)()),w=(0,f.G)(k.get("id")).tourDetail;return console.log("TCL: TourDetailPage -> tourDetail",w),(0,s.useEffect)((function(){setTimeout((function(){x(!1)}),500)}),[]),(0,h.jsx)(l.Z,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)("nav",{}),(0,h.jsx)("div",{className:"breadcrum"}),(0,h.jsxs)(u.It,{cols:"2",children:[(0,h.jsx)("div",{children:(0,h.jsx)(d.Z,{className:"text-[#003c71]",sx:"xl-2",children:w.tourName})}),(0,h.jsxs)("div",{className:"flex justify-end",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-2xl font-bold text-red-500",children:null===w||void 0===w||null===(t=w.price)||void 0===t?void 0:t.toLocaleString("vi-VN",{style:"currency",currency:"VND"})}),(0,h.jsx)("span",{className:"text-c3",children:"/ kh\xe1ch"})]}),(0,h.jsxs)("div",{className:"flex flex-col gap-2 px-4",children:[(0,h.jsx)(i.Z,{onClick:function(){return N("/booking?id=".concat(k.get("id")))},className:"bg-[#f79321] px-14 py-3 font-semibold text-white transition-all hover:bg-[#f9ab52]",radius:"4",children:"Booking"}),(0,h.jsx)(i.Z,{radius:"4",className:"border-2 border-[#f79321] bg-transparent px-4 py-2 font-semibold text-[#f79321] transition-all hover:border-transparent hover:bg-[#f9ab52] hover:text-white",children:"Contact"})]})]})]}),m?(0,h.jsx)(g,{}):(0,h.jsx)(b,{tourDetail:w}),(0,h.jsxs)("div",{className:"mt-7",children:[(0,h.jsx)(d.Z,{className:"text-center text-[#003c71]",sx:"xl-2",children:"Schedule"}),w.tourDetailDes&&(0,h.jsx)(j,{tourDetailDes:w.tourDetailDes})]})]})})}},7470:function(e,t,r){!function(e,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var n=r(t);function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}var o=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,r){return!Object.is(e,t[r])}))},c={error:null},i=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).state=c,t.resetErrorBoundary=function(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];null==t.props.onReset||(e=t.props).onReset.apply(e,n),t.reset()},t}a(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var r=t.prototype;return r.reset=function(){this.setState(c)},r.componentDidCatch=function(e,t){var r,n;null==(r=(n=this.props).onError)||r.call(n,e,t)},r.componentDidUpdate=function(e,t){var r,n,s=this.state.error,a=this.props.resetKeys;null!==s&&null!==t.error&&o(e.resetKeys,a)&&(null==(r=(n=this.props).onResetKeysChange)||r.call(n,e.resetKeys,a),this.reset())},r.render=function(){var e=this.state.error,t=this.props,r=t.fallbackRender,s=t.FallbackComponent,a=t.fallback;if(null!==e){var o={error:e,resetErrorBoundary:this.resetErrorBoundary};if(n.isValidElement(a))return a;if("function"===typeof r)return r(o);if(s)return n.createElement(s,o);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(n.Component);function u(e,t){var r=function(r){return n.createElement(i,t,n.createElement(e,r))},s=e.displayName||e.name||"Unknown";return r.displayName="withErrorBoundary("+s+")",r}function l(e){var t=n.useState(null),r=t[0],s=t[1];if(null!=e)throw e;if(null!=r)throw r;return s}e.ErrorBoundary=i,e.useErrorHandler=l,e.withErrorBoundary=u,Object.defineProperty(e,"__esModule",{value:!0})}(t,r(2791))},5861:function(e,t,r){"use strict";function n(e,t,r,n,s,a,o){try{var c=e[a](o),i=c.value}catch(u){return void r(u)}c.done?t(i):Promise.resolve(i).then(n,s)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(s,a){var o=e.apply(t,r);function c(e){n(o,s,a,c,i,"next",e)}function i(e){n(o,s,a,c,i,"throw",e)}c(void 0)}))}}r.d(t,{Z:function(){return s}})}}]);
//# sourceMappingURL=42.f15b6e21.chunk.js.map