{"version":3,"file":"static/js/55.af05fd07.chunk.js","mappings":"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","sources":["components/button/ButtonSubmitDefault.js","components/common/WrapperTour.js","components/label/Label.js","hooks/useRefreshToken.js","hooks/useAxiosPrivate.js","hooks/useGetTour.js","components/input/InputDefault.js","components/text/DetailTourInner.js","components/text/Service.js","pages/TourBooking.js","utils/getQueryVariable.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js"],"sourcesContent":["import { withErrorBoundary } from \"react-error-boundary\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { backgroundButton, borderRadius } from \"~/utils/arrCss\";\r\nimport classNames from \"~/utils/classNames\";\r\n\r\nimport { ErrorBoundary } from \"../common\";\r\nconst ButtonSubmitDefault = ({\r\n  radius,\r\n  background,\r\n  children,\r\n  className,\r\n  disable,\r\n  onClick,\r\n  icon,\r\n}) => {\r\n  let resultRadius = borderRadius.find((item) => item.radius === radius);\r\n  let resultBackgroundButton = backgroundButton.find(\r\n    (item) => item.backgroundColor === background\r\n  );\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      type=\"submit\"\r\n      className={classNames(\r\n        \"outline-none\",\r\n        radius && resultRadius.radiusCss,\r\n        className,\r\n        background && resultBackgroundButton.backgroundCss,\r\n        disable && \"pointer-events-none select-none bg-opacity-50\",\r\n        icon && \"flex items-center\"\r\n      )}\r\n    >\r\n      {icon && <span>{icon}</span>}\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\nButtonSubmitDefault.propTypes = {\r\n  background: PropTypes.string,\r\n  className: PropTypes.string,\r\n  children: PropTypes.node,\r\n  radius: PropTypes.string,\r\n  disable: PropTypes.bool,\r\n  onClick: PropTypes.func,\r\n};\r\nexport default withErrorBoundary(ButtonSubmitDefault, {\r\n  FallbackComponent: ErrorBoundary,\r\n});\r\n","import React from \"react\";\r\n\r\nconst WrapperTour = ({ children }) => {\r\n  return (\r\n    <div className=\"px-5 py-[30px] dark:bg-c2 lg:mx-auto lg:max-w-7xl lg:px-10 lg:py-5\">\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WrapperTour;\r\n","import React from \"react\";\r\nimport classNames from \"~/utils/classNames\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withErrorBoundary } from \"react-error-boundary\";\r\n\r\nimport ErrorBoundary from \"@/common/ErrorBoundary\";\r\nconst Label = ({ htmlFor, className = \"\", children }) => {\r\n  return (\r\n    <div className=\"inline-block\">\r\n      <label\r\n        htmlFor={htmlFor}\r\n        className={classNames(\r\n          \"inline-block cursor-pointer text-sm font-medium text-c3 dark:text-c4\",\r\n          className\r\n        )}\r\n      >\r\n        {children}\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\nLabel.propTypes = {\r\n  htmlFor: PropTypes.string,\r\n  className: PropTypes.string,\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default withErrorBoundary(Label, {\r\n  FallbackComponent: ErrorBoundary,\r\n});\r\n","import axios from \"~/api/axios\";\r\nimport { authUpdateUser } from \"~/sagas/auth/auth-slice\";\r\nimport { getToken, saveToken } from \"~/utils/auth\";\r\n\r\nexport default function useRefreshToken() {\r\n  async function refresh() {\r\n    const { refresh_token } = getToken();\r\n    if (!refresh_token) return null;\r\n    const response = await axios.post(`token/${refresh_token}`, {\r\n      \"Content-Type\": \"Application/json\",\r\n      refreshToken: refresh_token,\r\n    });\r\n    if (!response.data) return null;\r\n    saveToken(response.data.accessToken, response.data.refreshToken);\r\n    authUpdateUser((prev) => ({\r\n      ...prev,\r\n      accessToken: response.data.accessToken,\r\n    }));\r\n    return response.data.accessToken || \"\";\r\n  }\r\n  return refresh;\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { axiosPrivate } from \"~/api/axios\";\r\nimport useRefreshToken from \"./useRefreshToken\";\r\n\r\nexport default function useAxiosPrivate() {\r\n  const refresh = useRefreshToken();\r\n  const { auth } = useSelector((state) => state);\r\n  useEffect(() => {\r\n    const requestInterceptor = axiosPrivate.interceptors.request.use(\r\n      async (config) => {\r\n        if (!config.headers[\"Authorization\"]) {\r\n          config.headers[\"Authorization\"] = `Bearer ${auth.accessToken}`;\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error)\r\n    );\r\n\r\n    const responseInterceptor = axiosPrivate.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const prevRequest = error?.config;\r\n        if (error?.response?.status === 403 && !prevRequest?.sent) {\r\n          prevRequest.sent = true;\r\n          const newAccessToken = await refresh();\r\n          prevRequest.headers[\"Authorization\"] = `Bearer ${newAccessToken}`;\r\n          return axiosPrivate(prevRequest);\r\n        }\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n\r\n    return () => {\r\n      axiosPrivate.interceptors.request.eject(requestInterceptor);\r\n      axiosPrivate.interceptors.response.eject(responseInterceptor);\r\n    };\r\n  }, [auth.accessToken, refresh]);\r\n\r\n  return axiosPrivate;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport axios from \"~/api/axios\";\r\n\r\nexport function useGetTourById(id) {\r\n  const [tourDetail, setTourDetail] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    const timer = setTimeout(async () => {\r\n      await axios.get(`tour/${id}`).then((response) => {\r\n        setTourDetail(response.data.tourDetail);\r\n      });\r\n      setLoading(false);\r\n    }, 500);\r\n    return () => clearTimeout(timer);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return {\r\n    tourDetail,\r\n    loading,\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { useController } from \"react-hook-form\";\r\nimport classNames from \"~/utils/classNames\";\r\n\r\nconst InputDefault = ({ name, control, className, bg, ...props }) => {\r\n  const { field } = useController({\r\n    name,\r\n    control,\r\n    defaultValue: \"\",\r\n  });\r\n  return (\r\n    <div className=\"w-full\">\r\n      <input\r\n        {...field}\r\n        {...props}\r\n        className={classNames(\r\n          \"h-full w-full\",\r\n          className,\r\n          bg ? bg : \"bg-transparent\"\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InputDefault;\r\n","const DetailTourInner = ({ text, children }) => {\r\n  return (\r\n    <span className=\"text-[13px] text-c3\">\r\n      {text} <b className=\"ml-1 text-dark-blue\">{children}</b>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default DetailTourInner;\r\n","const Service = ({ children }) => {\r\n  return (\r\n    <div className=\"flex items-center gap-2\">\r\n      <img src=\"/check.svg\" alt=\"icon-check\" />\r\n      <span>{children}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Service;\r\n","import { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { toast } from \"react-toastify\";\r\nimport * as Yup from \"yup\";\r\n\r\nimport ButtonSubmitDefault from \"@/button/ButtonSubmitDefault\";\r\nimport { WrapperFlex, WrapperGrid } from \"@/common\";\r\nimport WrapperTour from \"@/common/WrapperTour\";\r\nimport Heading from \"@/heading/Heading\";\r\nimport { IconCalendar, IconMinus, IconPlus } from \"@/icon\";\r\nimport InputDefault from \"@/input/InputDefault\";\r\nimport Label from \"@/label/Label\";\r\nimport DetailTourInner from \"@/text/DetailTourInner\";\r\nimport Service from \"@/text/Service\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useGetTourById } from \"~/hooks/useGetTour\";\r\nimport getQueryVariable from \"~/utils/getQueryVariable\";\r\nimport useAxiosPrivate from \"~/hooks/useAxiosPrivate\";\r\n\r\nconst schame = Yup.object({\r\n  fullName: Yup.string().required(\"Please enter your full name.\"),\r\n  email: Yup.string()\r\n    .required(\"Please enter your email.\")\r\n    .matches(\r\n      // eslint-disable-next-line no-control-regex\r\n      /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/,\r\n      { message: \"Please enter valid email address\" }\r\n    ),\r\n  phoneNumber: Yup.string()\r\n    .required(\"Please enter your phone number.\")\r\n    .matches(\r\n      // eslint-disable-next-line no-control-regex\r\n      /(84|0[3|5|7|8|9])+([0-9]{8})\\b/,\r\n      { message: \"Please enter valid phone number\" }\r\n    ),\r\n  address: Yup.string().required(\"Please enter your address\"),\r\n});\r\n\r\nconst TourBooking = () => {\r\n  const id = getQueryVariable(\"id\");\r\n  const { user } = useSelector((state) => state.auth);\r\n  const { tourDetail, loading } = useGetTourById(id);\r\n  const navigate = useNavigate();\r\n  const axiosPrivate = useAxiosPrivate();\r\n\r\n  const {\r\n    handleSubmit,\r\n    control,\r\n    register,\r\n    setValue,\r\n    formState: { errors },\r\n  } = useForm({\r\n    // resolver: yupResolver(schame),\r\n    mode: \"onSubmit\",\r\n  });\r\n  const [passenger, setPassenger] = useState(1);\r\n\r\n  const handleIncrement = () => {\r\n    setPassenger((passenger) => passenger + 1);\r\n  };\r\n  const handleDecrement = () => {\r\n    if (passenger === 1) return;\r\n    setPassenger((passenger) => passenger - 1);\r\n  };\r\n  useEffect(() => {\r\n    const arrErrors = Object.values(errors);\r\n    if (arrErrors.length > 0) {\r\n      toast.error(arrErrors[0]?.message, {\r\n        autoClose: 1000,\r\n        pauseOnHover: false,\r\n        draggable: true,\r\n        delay: 50,\r\n      });\r\n    }\r\n  }, [errors]);\r\n\r\n  useEffect(() => {\r\n    tourDetail?.price && setValue(\"totalPrice\", tourDetail.price * passenger);\r\n  }, [passenger, setValue, tourDetail.price]);\r\n\r\n  const onSubmit = (values) => {\r\n    if (!user || !user.email) {\r\n      toast.warning(\"Please login before booking!\", { autoClose: 1000 });\r\n      navigate(\"/sign-in\");\r\n    } else {\r\n      const request = {\r\n        tour: {\r\n          id,\r\n        },\r\n        user: {\r\n          email: user.email,\r\n        },\r\n        ...values,\r\n        passenger,\r\n      };\r\n      console.log(\"TCL: onSubmit -> request\", request);\r\n      axiosPrivate.post(`/booking/create`, request).then((response) => {\r\n        console.log(response);\r\n      });\r\n      toast.success(\"Please check your email to active booking!\", {\r\n        autoClose: 2000,\r\n      });\r\n      navigate(\"../\");\r\n    }\r\n  };\r\n  return (\r\n    <WrapperTour>\r\n      <div className=\"mb-5 grid grid-cols-3 rounded-md\">\r\n        <div className=\"col-span-1 rounded-tl-md rounded-bl-md\">\r\n          {tourDetail?.images && !loading ? (\r\n            <img\r\n              className=\"h-full rounded-tl-md rounded-bl-md object-cover\"\r\n              alt=\"img-tour\"\r\n              src={tourDetail.images[0]}\r\n            />\r\n          ) : (\r\n            <div className=\"skeleton h-[270px] w-full rounded-tl-md rounded-bl-md\"></div>\r\n          )}\r\n        </div>\r\n        {loading ? (\r\n          <div className=\"col-span-2 bg-[#f8f8f8] p-8\">\r\n            <div className=\"skeleton mb-5 h-[96px] w-full\"></div>\r\n            <div className=\"flex flex-col gap-1 font-Roboto\">\r\n              {Array(4)\r\n                .fill(0)\r\n                .map((item, index) => (\r\n                  <div key={index} className=\"skeleton h-5 w-full\"></div>\r\n                ))}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"col-span-2 bg-[#f8f8f8] p-8\">\r\n            <Heading className=\"mb-5 text-dark-blue\" sx=\"xl-2\">\r\n              {tourDetail.tourName}\r\n            </Heading>\r\n            <div className=\"flex flex-col gap-1 font-Roboto\">\r\n              <DetailTourInner text=\"Start day\">\r\n                {tourDetail.startDay}\r\n              </DetailTourInner>\r\n              <DetailTourInner text=\"End day\">\r\n                {tourDetail.endDay}\r\n              </DetailTourInner>\r\n              <DetailTourInner text=\"Beginning location\">\r\n                {tourDetail?.beginningLocation?.locationName}\r\n              </DetailTourInner>\r\n              <DetailTourInner text=\"Destination location\">\r\n                {tourDetail?.destinationLocation?.locationName}\r\n              </DetailTourInner>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <form onSubmit={handleSubmit(onSubmit)} className=\"flex flex-row\">\r\n        <div className=\"flex-1\">\r\n          <Heading className=\"mb-8 text-dark-blue\" sx=\"xl-2\">\r\n            Tour Info\r\n          </Heading>\r\n          <Heading className=\"mb-2 text-dark-blue\" sx=\"lg\">\r\n            Communications\r\n          </Heading>\r\n          <div className=\"mr-10 bg-[#f6f6f6] p-6\">\r\n            <WrapperGrid cols=\"2\" rows=\"2\" className=\"gap-x-8 gap-y-5\">\r\n              <WrapperFlex col spacing=\"2\">\r\n                <Label htmlFor=\"fullName\">\r\n                  Full Name <strong className=\"text-red-500\">*</strong>\r\n                </Label>\r\n                <InputDefault\r\n                  control={control}\r\n                  className=\"rounded-sm py-2 px-4\"\r\n                  name=\"fullName\"\r\n                  id=\"fullName\"\r\n                  bg=\"bg-white\"\r\n                />\r\n              </WrapperFlex>\r\n              <WrapperFlex col spacing=\"2\">\r\n                <Label htmlFor=\"Email\">\r\n                  Email <strong className=\"text-red-500\">*</strong>\r\n                </Label>\r\n                <InputDefault\r\n                  control={control}\r\n                  className=\"rounded-sm py-2 px-4\"\r\n                  name=\"email\"\r\n                  id=\"email\"\r\n                  bg=\"bg-white\"\r\n                />\r\n              </WrapperFlex>\r\n              <WrapperFlex col spacing=\"2\">\r\n                <Label htmlFor=\"phoneNumber\">\r\n                  Phone Number <strong className=\"text-red-500\">*</strong>\r\n                </Label>\r\n                <InputDefault\r\n                  control={control}\r\n                  className=\"rounded-sm py-2 px-4\"\r\n                  name=\"phoneNumber\"\r\n                  id=\"fullName\"\r\n                  bg=\"bg-white\"\r\n                />\r\n              </WrapperFlex>\r\n              <WrapperFlex col spacing=\"2\">\r\n                <Label htmlFor=\"fullName\">\r\n                  Address <strong className=\"text-red-500\">*</strong>\r\n                </Label>\r\n                <InputDefault\r\n                  control={control}\r\n                  className=\"rounded-sm py-2 px-4\"\r\n                  name=\"address\"\r\n                  id=\"fullName\"\r\n                  bg=\"bg-white\"\r\n                />\r\n              </WrapperFlex>\r\n            </WrapperGrid>\r\n          </div>\r\n        </div>\r\n        <div className=\"inline-block\">\r\n          <div>\r\n            <div className=\"flex flex-col gap-5\">\r\n              <div className=\"w-[350px] bg-white px-4 py-5 shadow-[0_0_20px_5px_rgb(0,0,0,0.05)]\">\r\n                <h2 className=\"text-xl font-bold text-dark-blue\">\r\n                  Lịch khởi hành & giá\r\n                </h2>\r\n                <WrapperGrid rows=\"2\" cols=\"1\">\r\n                  <div className=\"mt-3 flex items-center justify-between rounded-md border border-c6 p-4 text-sm\">\r\n                    <p>Departure date:</p>\r\n                    <div className=\"flex items-center justify-center gap-2\">\r\n                      <IconCalendar />\r\n                      <span>{tourDetail.startDay}</span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"relative mt-2 rounded-md border border-c6 p-4 text-sm\">\r\n                    <span className=\"absolute top-2/4 left-4 -translate-y-2/4\">\r\n                      Passenger\r\n                    </span>\r\n                    <span className=\"absolute top-2/4 left-2/4 -translate-y-2/4 -translate-x-[60%] text-base text-[#ffbd00]\">\r\n                      x{\" \"}\r\n                      {tourDetail?.price?.toLocaleString(\"vi-VN\", {\r\n                        style: \"currency\",\r\n                        currency: \"VND\",\r\n                      })}\r\n                    </span>\r\n                    <div className=\"absolute  right-4 top-2/4 inline-block -translate-y-2/4 items-center gap-4\">\r\n                      <WrapperFlex items=\"center\" justify=\"center\" spacing=\"4\">\r\n                        <span\r\n                          className=\"cursor-pointer\"\r\n                          onClick={handleDecrement}\r\n                        >\r\n                          <IconMinus />\r\n                        </span>\r\n                        <span className=\"w-5 select-none text-center text-base\">\r\n                          {passenger}\r\n                        </span>\r\n                        <span\r\n                          className=\"cursor-pointer\"\r\n                          onClick={handleIncrement}\r\n                        >\r\n                          <IconPlus />\r\n                        </span>\r\n                      </WrapperFlex>\r\n                    </div>\r\n                  </div>\r\n                  <WrapperFlex\r\n                    items=\"center\"\r\n                    justify=\"between\"\r\n                    className=\"mt-5\"\r\n                  >\r\n                    <p>Total</p>\r\n                    <input\r\n                      className=\"hidden text-xl font-bold text-[#ffbd00]\"\r\n                      {...register(\"totalPrice\")}\r\n                    />\r\n                    <span className=\"text-xl font-bold text-[#ffbd00]\">\r\n                      {(tourDetail.price * passenger).toLocaleString(\"vi-VN\", {\r\n                        style: \"currency\",\r\n                        currency: \"VND\",\r\n                      })}\r\n                    </span>\r\n                  </WrapperFlex>\r\n                  <WrapperFlex\r\n                    className=\"mt-4 text-sm text-[#26bed6]\"\r\n                    items=\"center\"\r\n                    spacing=\"2\"\r\n                  >\r\n                    <img src=\"/info.svg\" alt=\"\" />\r\n                    <p>Contact us to make a reservation</p>\r\n                  </WrapperFlex>\r\n                  <WrapperGrid spacing=\"4\" cols=\"2\" className=\"mt-5\">\r\n                    <ButtonSubmitDefault\r\n                      radius=\"4\"\r\n                      className=\"border-2 border-[#f79321] bg-transparent px-4 py-2 font-semibold text-[#f79321] transition-all hover:border-transparent hover:bg-[#f9ab52] hover:text-white\"\r\n                    >\r\n                      Contact\r\n                    </ButtonSubmitDefault>\r\n                    <ButtonSubmitDefault\r\n                      className=\"bg-[#f79321] px-4 py-2 font-semibold text-white transition-all hover:bg-[#f9ab52]\"\r\n                      radius=\"4\"\r\n                    >\r\n                      Booking\r\n                    </ButtonSubmitDefault>\r\n                  </WrapperGrid>\r\n                </WrapperGrid>\r\n              </div>\r\n              <div className=\"w-full max-w-[350px] bg-white px-4 py-5 shadow-[0_0_20px_5px_rgb(0,0,0,0.05)]\">\r\n                <WrapperGrid cols=\"2\" rows=\"4\" className=\"gap-y-3\">\r\n                  <Service>Insurance</Service>\r\n                  <Service>Meal</Service>\r\n                  <Service>Tour guide</Service>\r\n                  <Service>Hotel 3-4*</Service>\r\n                  <Service>Plane ticket</Service>\r\n                  <Service>Entrance ticket</Service>\r\n                  <Service>Shuttle bus</Service>\r\n                </WrapperGrid>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </WrapperTour>\r\n  );\r\n};\r\n\r\nexport default TourBooking;\r\n","function getQueryVariable(variable) {\r\n  return (\r\n    decodeURIComponent(\r\n      // eslint-disable-next-line no-useless-concat\r\n      (new RegExp(\"[?|&]\" + variable + \"=\" + \"([^&;]+?)(&|#|;|$)\").exec(\r\n        window.location.search\r\n        // ) || [, \"\"])[1].replace(/\\+/g, \"-\")\r\n        // eslint-disable-next-line no-sparse-arrays\r\n      ) || [, \"\"])[1].replaceAll(\"-\", \" \")\r\n    ) || null\r\n  );\r\n}\r\n\r\nexport default getQueryVariable;\r\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}"],"names":["withErrorBoundary","radius","background","children","className","disable","onClick","icon","resultRadius","borderRadius","item","resultBackgroundButton","backgroundButton","backgroundColor","type","classNames","radiusCss","backgroundCss","FallbackComponent","ErrorBoundary","htmlFor","useRefreshToken","getToken","refresh_token","axios","refreshToken","response","data","saveToken","accessToken","authUpdateUser","prev","useAxiosPrivate","refresh","auth","useSelector","state","useEffect","requestInterceptor","axiosPrivate","config","headers","error","Promise","reject","responseInterceptor","prevRequest","status","sent","newAccessToken","useGetTourById","id","useState","tourDetail","setTourDetail","loading","setLoading","timer","setTimeout","then","clearTimeout","name","control","bg","props","field","useController","defaultValue","text","src","alt","Yup","fullName","required","email","matches","message","phoneNumber","address","getQueryVariable","user","navigate","useNavigate","useForm","mode","handleSubmit","register","setValue","errors","formState","passenger","setPassenger","arrErrors","Object","values","length","toast","autoClose","pauseOnHover","draggable","delay","price","WrapperTour","images","Array","fill","map","index","Heading","sx","tourName","startDay","endDay","beginningLocation","locationName","destinationLocation","onSubmit","request","tour","console","log","post","cols","rows","col","spacing","Label","toLocaleString","style","currency","items","justify","ButtonSubmitDefault","variable","decodeURIComponent","RegExp","exec","window","location","search","replaceAll","_assertThisInitialized","self","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","result","Super","NewTarget","this","constructor","Reflect","construct","arguments","apply","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","bind","__proto__","_inherits","subClass","superClass","TypeError","prototype","create","value","writable","configurable","defineProperty","_isNativeReflectConstruct","sham","Proxy","Boolean","valueOf","call","e","_possibleConstructorReturn","_setPrototypeOf","p"],"sourceRoot":""}