{"version":3,"file":"static/js/345.91ae66b9.chunk.js","mappings":"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","sources":["hooks/useRefreshToken.js","hooks/useAxiosPrivate.js","layouts/LayoutActive.js","pages/ActivePage.js","utils/classNames.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import axios from \"~/api/axios\";\r\nimport { authUpdateUser } from \"~/sagas/auth/auth-slice\";\r\nimport { getToken, saveToken } from \"~/utils/auth\";\r\n\r\nexport default function useRefreshToken() {\r\n  async function refresh() {\r\n    const { refresh_token } = getToken();\r\n    if (!refresh_token) return null;\r\n    const response = await axios.post(`token/${refresh_token}`, {\r\n      \"Content-Type\": \"Application/json\",\r\n      refreshToken: refresh_token,\r\n    });\r\n    if (!response.data) return null;\r\n    saveToken(response.data.accessToken, response.data.refreshToken);\r\n    authUpdateUser((prev) => ({\r\n      ...prev,\r\n      accessToken: response.data.accessToken,\r\n    }));\r\n    return response.data.accessToken || \"\";\r\n  }\r\n  return refresh;\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { axiosPrivate } from \"~/api/axios\";\r\nimport useRefreshToken from \"./useRefreshToken\";\r\n\r\nexport default function useAxiosPrivate() {\r\n  const refresh = useRefreshToken();\r\n  const { auth } = useSelector((state) => state);\r\n  useEffect(() => {\r\n    const requestInterceptor = axiosPrivate.interceptors.request.use(\r\n      async (config) => {\r\n        if (!config.headers[\"Authorization\"]) {\r\n          config.headers[\"Authorization\"] = `Bearer ${auth.accessToken}`;\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error)\r\n    );\r\n\r\n    const responseInterceptor = axiosPrivate.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const prevRequest = error?.config;\r\n        if (error?.response?.status === 403 && !prevRequest?.sent) {\r\n          prevRequest.sent = true;\r\n          const newAccessToken = await refresh();\r\n          prevRequest.headers[\"Authorization\"] = `Bearer ${newAccessToken}`;\r\n          return axiosPrivate(prevRequest);\r\n        }\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n\r\n    return () => {\r\n      axiosPrivate.interceptors.request.eject(requestInterceptor);\r\n      axiosPrivate.interceptors.response.eject(responseInterceptor);\r\n    };\r\n  }, [auth.accessToken, refresh]);\r\n\r\n  return axiosPrivate;\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport classNames from \"~/utils/classNames\";\r\n\r\nconst LayoutActive = ({ title, heading, children, textCenter }) => {\r\n  // const { user } = useSelector((state) => state.auth);\r\n  // const navigate = useNavigate();\r\n  // useEffect(() => {\r\n  //   document.title = title;\r\n  // }, [title]);\r\n\r\n  // useEffect(() => {\r\n  //   if (user && user.email) navigate(\"/\");\r\n  //   document.title = \"TripGuide\";\r\n  // }, [navigate, user]);\r\n\r\n  // if (user && user.email) return null;\r\n\r\n  return (\r\n    <div className=\"relative isolate w-full bg-[#FCFCFD] px-6 pt-6 pb-14 font-Epilogue dark:bg-dark-primary lg:min-h-screen lg:px-10 lg:pt-10 lg:pb-64\">\r\n      {/* <img\r\n        srcSet={darkMode ? \"/ellipse-dark.png 2x\" : \"/ellipse.png 2x\"}\r\n        alt=\"bg\"\r\n        className=\"pointer-events-none absolute bottom-0 left-0 right-0 z-[-1] hidden w-full lg:block\"\r\n      /> */}\r\n      <div className=\"container mx-auto \">\r\n        <img\r\n          srcSet=\"/bg-ellipse-light.png 2x\"\r\n          alt=\"bg\"\r\n          className=\"pointer-events-none absolute bottom-0 left-0 right-0 z-[-1] hidden w-full lg:block\"\r\n        />\r\n        <Link to=\"/\" className=\"mb-5 inline-block lg:mb-16\">\r\n          <img srcSet=\"/logo.png 2x\" alt=\"crowfunding-app\" />\r\n        </Link>\r\n        <div className=\"mx-auto w-full max-w-[556px] rounded-xl bg-white px-5 py-8 shadow-[0_0_20px_5px_rgb(0,0,0,0.05)] dark:bg-dark-secondary lg:px-16 lg:py-12\">\r\n          <h1\r\n            className={classNames(\r\n              \" dark:text-white lg:text-xl\",\r\n              textCenter\r\n                ? \"mb-2 text-left text-xl font-bold lg:mb-5 lg:text-2xl\"\r\n                : \"mb-1 text-center text-lg font-semibold lg:mb-3\"\r\n            )}\r\n          >\r\n            {heading}\r\n          </h1>\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LayoutActive;\r\n","import { useEffect } from \"react\";\r\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport axios from \"~/api/axios\";\r\nimport useAxiosPrivate from \"~/hooks/useAxiosPrivate\";\r\nimport LayoutActive from \"~/layouts/LayoutActive\";\r\nimport { getToken } from \"~/utils/auth\";\r\n\r\nconst ActivePage = () => {\r\n  // const search = new URLSea\r\n  const { access_token } = getToken();\r\n  const api = axios.create({\r\n    baseURL: \"http://localhost:8080/api/v1\",\r\n    headers: { Authorization: `Bearer ${access_token}` },\r\n  });\r\n  const [searchParam, setSearchParam] = useSearchParams();\r\n  const axiosPrivate = useAxiosPrivate();\r\n  useEffect(() => {\r\n    api\r\n      .post(\r\n        `/booking/active?email=${searchParam.get(\"email\")}&id=${searchParam.get(\r\n          \"id\"\r\n        )}`\r\n      )\r\n      .then((response) => {\r\n        console.log(response);\r\n        if (response.data.success)\r\n          toast.success(response.data.message, {\r\n            autoClose: 500,\r\n          });\r\n        else\r\n          toast.error(response.data.message, {\r\n            autoClose: 500,\r\n          });\r\n      });\r\n  }, []);\r\n  return (\r\n    <LayoutActive>\r\n      <div className=\"text-center\">\r\n        <span className=\"inline-block\">\r\n          <svg\r\n            className=\"inline-block\"\r\n            width={69}\r\n            height={70}\r\n            viewBox=\"0 0 69 70\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <g clipPath=\"url(#clip0_2881_2407)\">\r\n              <path\r\n                d=\"M19.5806 45.9159L32.1489 39.3084V52.328H36.8506V39.3084L49.4188 45.9159L46.5694 29.3034L58.6393 17.5384L41.9593 15.1146L34.4998 0L27.0402 15.1146L10.3601 17.5384L22.43 29.3034L19.5806 45.9159Z\"\r\n                fill=\"#FFDA44\"\r\n              />\r\n              <path\r\n                d=\"M25.5165 22.4628L31.7245 21.5606L34.5008 15.9354L37.277 21.5606L43.4849 22.4628L38.9928 26.8416L40.0532 33.0243L34.5008 30.1051L28.9484 33.0243L30.0087 26.8416L25.5165 22.4628Z\"\r\n                fill=\"#FF9811\"\r\n              />\r\n              <path\r\n                d=\"M47.8213 63.2985V49.9772H21.1789V63.2985H16.4772V68H52.5229V63.2985H47.8213Z\"\r\n                fill=\"#FF9811\"\r\n              />\r\n              <path\r\n                d=\"M52.5222 63.2978H16.4764V67.9994H52.5222V63.2978Z\"\r\n                fill=\"#A2001D\"\r\n              />\r\n              <path\r\n                d=\"M39.201 58.5962H29.7977V63.2977H39.201V58.5962Z\"\r\n                fill=\"#FFDA44\"\r\n              />\r\n            </g>\r\n            <defs>\r\n              <clipPath id=\"clip0_2881_2407\">\r\n                <rect\r\n                  width={68}\r\n                  height={68}\r\n                  fill=\"white\"\r\n                  transform=\"translate(0.5)\"\r\n                />\r\n              </clipPath>\r\n            </defs>\r\n          </svg>\r\n        </span>\r\n        <h1 className=\"p-4 text-2xl font-bold\">Active success!</h1>\r\n        <p className=\"text-sm font-medium text-c5\">\r\n          Congratulation! You have actived this booking. Payment by cash when we\r\n          meet.\r\n        </p>\r\n        <Link to=\"/\">\r\n          <div className=\"mx-auto mt-7 w-[80%] rounded-md bg-[#1DC071] py-3 font-semibold text-white\">\r\n            <span>Go to homepage</span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </LayoutActive>\r\n  );\r\n};\r\n\r\nexport default ActivePage;\r\n","export default function classNames(...args) {\r\n  return args\r\n    .reduce((acc, val) => {\r\n      if (typeof val === \"string\") return acc.concat(val.split(\" \"));\r\n      if (typeof val === \"undefined\") return acc;\r\n      return acc.concat(Object.values(val));\r\n    }, [])\r\n    .join(\" \");\r\n}\r\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["useRefreshToken","getToken","refresh_token","axios","refreshToken","response","data","saveToken","accessToken","authUpdateUser","prev","useAxiosPrivate","refresh","auth","useSelector","state","useEffect","requestInterceptor","axiosPrivate","config","headers","error","Promise","reject","responseInterceptor","prevRequest","status","sent","newAccessToken","title","heading","children","textCenter","className","srcSet","alt","to","classNames","access_token","api","baseURL","Authorization","useSearchParams","searchParam","post","get","then","console","log","success","toast","message","autoClose","width","height","viewBox","fill","xmlns","clipPath","d","id","transform","args","reduce","acc","val","concat","split","Object","values","join","asyncGeneratorStep","gen","resolve","_next","_throw","key","arg","info","value","done","_asyncToGenerator","fn","self","this","arguments","apply","err","undefined"],"sourceRoot":""}